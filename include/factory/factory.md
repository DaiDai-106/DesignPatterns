# Factory Pattern (å·¥å‚æ¨¡å¼)

## 1. ç®€ä»‹
å·¥å‚è®¾è®¡æ¨¡å¼ï¼ˆFactory Patternï¼‰ä¸»è¦è§£å†³çš„æ˜¯â€œå¯¹è±¡åˆ›å»ºä¸ä½¿ç”¨è§£è€¦â€çš„é—®é¢˜ã€‚ç”¨ç®€å•çš„è¯æè¿°ï¼Œ å°±æ˜¯ï¼šæŠŠâ€œæ€ä¹ˆåˆ›å»ºå¯¹è±¡â€çš„å†³å®šæƒï¼Œä»ä½¿ç”¨è€…æ‰‹é‡Œæ‹¿èµ°ã€‚
å³å…è®¸ç”¨æˆ·åˆ›å»ºç‰¹å®šç±»å‹è€Œéä»»æ„ç±»å‹çš„å¯¹è±¡ã€‚è¿™é‡Œä¸¾ä¸€ä¸ªä¾‹å­ï¼š
```cpp
void foo() {
    Car* car = new BMW();
    car->run();
}
```
ä¸Šé¢çš„ä»£ç å¹¶ä¸å‹å¥½ï¼Œfoo å¿…é¡»çŸ¥é“å…·ä½“ç±» BMWï¼Œ å¦‚æœä»¥åè¦æ¢æˆ Audiï¼ŒTeslaï¼Œåˆ™éœ€è¦åœ¨è¿™é‡Œæ”¹ä»£ç ,é‡æ–°ç¼–è¯‘ã€‚è¿™æ ·çš„æ–¹æ³•æ˜¾ç„¶ä¹Ÿè¿æ³•äº†å¼€é—­åŸåˆ™ï¼ˆå¯¹ä¿®æ”¹å…³é—­ï¼‰

## 2. ç®€å•å·¥å‚
è¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­ï¼Œå¦‚æœæˆ‘æƒ³ä½¿ç”¨å·¥å‚æ–¹æ³•åº”è¯¥å¦‚ä½•è®¾è®¡å‘¢ï¼Ÿ
```cpp
class Car {
public:
    static Car* createBMW() {
        return new BMW();
    }

    virtual void run() = 0;
};
```
è¿™æ ·åœ¨è°ƒç”¨çš„æ—¶å€™ï¼Œç”¨ä¸‹é¢çš„æ–¹å¼å³å¯ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯ï¼Œä½¿ç”¨è€…ä¸çŸ¥é“ BMW å­˜ä¸å­˜åœ¨ï¼Œä¹Ÿä¸å…³å¿ƒæ„é€ ç»†èŠ‚ï¼Œåªä¾èµ– Car æ¥å£ã€‚
```cpp
void foo() {
    Car* car = Car::createBMW();
    car->run();
}
```
ä¸Šé¢è¿™æ ·å·²ç»ç®—æ˜¯ç®€å•å·¥å‚äº†ï¼Œä½†æ˜¯ä¾ç„¶è¿˜æ²¡æœ‰åˆ°å·¥å‚è®¾è®¡æ¨¡å¼çš„å±‚é¢ï¼ŒåŸå› æ˜¯ä¾ç„¶è¿˜æ²¡æœ‰æ»¡è¶³OCPåŸåˆ™ï¼Œå› ä¸ºå¦‚æœæˆ‘è¦æ–°å¢ä¸€ä¸ªcarï¼Œæˆ‘éƒ½å¿…é¡»â€œä¿®æ”¹ Car ç±»æœ¬èº«â€ã€‚å°±åƒä¸‹é¢è¿™æ ·ï¼Œæ‰€ä»¥éœ€è¦ç»§ç»­è¿›è¡Œä¼˜åŒ–
```cpp
class Car {
public:
    static Car* createBMW() {
        return new BMW();
    }

    static Car* createAudi() {
        return new Audi();   // ğŸ‘ˆ ä¿®æ”¹ Car
    }
};
```
## 3. å·¥å‚æ–¹æ³•









## 4. æŠ½è±¡å·¥å‚